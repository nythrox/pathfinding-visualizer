(this["webpackJsonppathfinding-visualizer"]=this["webpackJsonppathfinding-visualizer"]||[]).push([[0],{234:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),r=n(83),o=n.n(r),s=(n(97),n(2)),c=function(t){t.id;var e=Object(i.useState)(t.isStart),n=Object(s.a)(e,2),r=n[0],o=n[1],c=Object(i.useState)(t.isWall),l=Object(s.a)(c,2),u=l[0],d=l[1],f=Object(i.useState)(t.isFinish),m=Object(s.a)(f,2),w=m[0],g=m[1],h=function(){t.toggleActive(t.col,t.row),"addWall"===window.tool?d(!0):d(!1)},v="grid-node";r&&(v+=" start"),w&&(v+=" finish"),u&&(v+=" wall");var b="node-".concat(t.row,"-").concat(t.col),p=Object(i.useRef)(null);Object(i.useEffect)((function(){d(t.isWall),o(t.isStart),g(t.isFinish),t.addRefToList(t.col,t.row,p);var e=document.getElementById("node-".concat(t.row,"-").concat(t.col));e.classList.remove("visited"),e.classList.remove("shortest-path"),e.classList.remove("current-visited")}),[g,o,d,t]);return a.a.createElement("div",{ref:p,className:v,id:b,onMouseLeave:r||w?function(){window.canDrag&&window.isDragging&&(r?(t.toggleStart(t.col,t.row),o(!1)):(t.toggleFinish(t.col,t.row),g(!1)))}:null,onMouseDown:r||w?function(){window.canDrag&&(window.isDragging=!0,window.target=r?"start":"finish")}:null,onClick:r||w?null:function(){window.canEdit&&h()},onMouseEnter:r||w?null:function(){window.canDrag&&(window.isDragging?"start"===window.target?(t.toggleStart(t.col,t.row),o(!0)):(t.toggleFinish(t.col,t.row),g(!0)):window.isMouseDown&&window.canEdit&&h())}})},l=n(25),u=function t(e,n,i,a,r,o,s,c,u,d){Object(l.a)(this,t),this.col=e,this.row=n,this.id=i,this.isStart=a,this.isFinish=r,this.distance=o,this.isVisited=s,this.isWall=c,this.previousNode=u,this.ref=d},d=n(84),f=n.n(d),m=n(85),w=n.n(m),g=n(86),h=n.n(g),v=n(87),b=n.n(v),p=n(88),y=n.n(p),E=n(89),S=n.n(E),x=n(90),j=n(236),O=n(91),$=function(){function t(){Object(l.a)(this,t),this.currentAlgorithm$=new j.a(1),this.gridValues$=new O.a,this.playAnimation$=new O.a,this.resetBoard$=new O.a,this.gameState$=new j.a(1),this.CurrentAlgorithmEnum=Object.freeze({dijkstra:1,aStar:2,animating:3}),this.GameStateEnum=Object.freeze({idle:1,rendering:2,animating:3})}return Object(x.a)(t,[{key:"dispose",value:function(){this.currentAlgorithm$.unsubscribe(),this.playAnimation$.unsubscribe(),this.resetBoard$.unsubscribe(),this.gameState$.unsubscribe()}}]),t}(),W=a.a.createContext(new $);n(44);function k(){var t=Object(i.useState)("pencil"),e=Object(s.a)(t,2),n=e[0],r=e[1],o=Object(i.useState)(),c=Object(s.a)(o,2),l=c[0],u=c[1],d=Object(i.useState)(),m=Object(s.a)(d,2),g=m[0],v=m[1],p=Object(i.useContext)(W);return a.a.createElement("nav",null,a.a.createElement("ul",null,a.a.createElement("li",{onClick:function(){p.playAnimation$.next(!0)}},a.a.createElement("img",{width:"30px",src:S.a,alt:"play pathfinder"})),a.a.createElement("li",{onClick:function(){p.resetBoard$.next(!0)}},a.a.createElement("img",{width:"40px",src:b.a,alt:"reset grid"})),a.a.createElement("li",null,a.a.createElement("img",{src:"pencil"===n?y.a:f.a,width:"30",alt:"draw wall",onClick:function(){window.tool="addWall",r("pencil")}})),a.a.createElement("li",null,a.a.createElement("img",{src:"eraser"===n?h.a:w.a,width:"30",alt:"remove wall",onClick:function(){window.tool="removeWall",r("eraser")}})),a.a.createElement("li",null,"rows:",a.a.createElement("input",{type:"number",value:l,placeholder:"20",onChange:function(t){u(t.target.value)}}),"cols:",a.a.createElement("input",{type:"number",value:g,placeholder:"50",onChange:function(t){v(t.target.value)}}),a.a.createElement("input",{type:"submit",value:"create grid",onClick:function(){var t=20,e=50;void 0!==l&&""!==l&&(t=l),void 0!==g&&""!==g&&(e=g),t>=2&&e>=2&&p.gridValues$.next({rows:t,columns:e})}}))))}function C(t,e,n){var i=[];e.distance=0;for(var a=function(t){var e=[],n=!0,i=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var s=r.value,c=!0,l=!1,u=void 0;try{for(var d,f=s[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var m=d.value;e.push(m)}}catch(w){l=!0,u=w}finally{try{c||null==f.return||f.return()}finally{if(l)throw u}}}}catch(w){i=!0,a=w}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return e}(t);a.length;){D(a);var r=a.shift();if(!r.isWall){if(r.distance===1/0)return i;if(r.isVisited=!0,i.push(r),r===n)return i;F(r,t)}}}function D(t){t.sort((function(t,e){return t.distance-e.distance}))}function F(t,e){var n=function(t,e){var n=[],i=t.col,a=t.row;a>0&&n.push(e[a-1][i]);a<e.length-1&&n.push(e[a+1][i]);i>0&&n.push(e[a][i-1]);i<e[0].length-1&&n.push(e[a][i+1]);return n.filter((function(t){return!t.isVisited}))}(t,e),i=!0,a=!1,r=void 0;try{for(var o,s=n[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var c=o.value;c.distance=t.distance+1,c.previousNode=t}}catch(l){a=!0,r=l}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}}var A=function(t){var e=Object(i.useState)({x:5,y:7}),n=Object(s.a)(e,2),r=n[0],o=(n[1],Object(i.useState)({x:20,y:8})),l=Object(s.a)(o,2),u=l[0],d=(l[1],Object(i.useState)([])),f=Object(s.a)(d,2),m=f[0],w=f[1],g=Object(i.useContext)(W),h=Object(i.useState)({columns:50,rows:20}),v=Object(s.a)(h,2),b=v[0],p=v[1];Object(i.useEffect)((function(){console.log("started"),0===m.length&&w(L(t.rows,t.columns,r,u));var e=g.playAnimation$.subscribe((function(t){y()})),n=g.resetBoard$.subscribe((function(t){E()})),i=g.gridValues$.subscribe((function(t){p(t),w(L(t.rows,t.columns,r,u))}));return function(){e.unsubscribe(),n.unsubscribe(),i.unsubscribe()}}),[m,t,r,u,g]);var y=function(){g.gameState$._value===g.GameStateEnum.idle&&(g.gameState$.next(g.GameStateEnum.rendering),w(N(m)),console.log("set grid"),g.gameState$.next(g.GameStateEnum.animating),S())},E=function(){for(var t=setTimeout(";",0),e=0;e<t;e++)clearTimeout(e);w(L(b.rows,b.columns,r,u)),g.gameState$.next(g.GameStateEnum.idle)},S=function(){var t=m.slice(),e=C(t,t[r.y][r.x],t[u.y][u.x]),n=function(t){for(var e=[],n=t;null!==n;)e.unshift(n),n=n.previousNode;return e}(t[u.y][u.x]);k(e,n)},x=function(t,e){"addWall"===window.tool?m[e][t].isWall=!0:m[e][t].isWall=!1},j=function(t,e){!0===m[e][t].isStart?m[e][t].isStart=!1:(r.x=t,r.y=e,m[e][t].isStart=!0)},O=function(t,e){!0===m[e][t].isFinish?m[e][t].isFinish=!1:(u.x=t,u.y=e,m[e][t].isFinish=!0)},$=function(t,e,n){m[e][t].ref=n},k=function(t,e){for(var n=function(n){var i=t[n];if(n===t.length)return setTimeout((function(){D(e)}),25*n),{v:void 0};setTimeout((function(){var t=document.getElementsByClassName("current-visited");if(t.length>0)for(var e=0;e<t.length;e++){var n=t[e];void 0!==n&&(n.classList.remove("current-visited"),n.classList.add("visited"))}i.ref.current.classList.add("current-visited")}),25*n)},i=0;i<=t.length;i++){var a=n(i);if("object"===typeof a)return a.v}},D=function(t){for(var e=function(e){e===t.length-1&&g.gameState$.next(g.GameStateEnum.idle),setTimeout((function(){t[e].ref.current.classList.add("shortest-path")}),30*e)},n=0;n<t.length;n++)e(n)};return a.a.createElement("div",{className:"grid-container"},m.map((function(t,e){return a.a.createElement("div",{className:"grid-row",key:e},t.map((function(t){return a.a.createElement(c,{key:t.id,col:t.col,row:t.row,id:t.id,isStart:t.isStart,isFinish:t.isFinish,isWall:t.isWall,toggleActive:x,addRefToList:$,model:t,toggleFinish:O,toggleStart:j})})))})))},L=function(t,e,n,i){var a=[],r=0,o=n,s=i;n.x>=e&&(o.x=0),n.y>=t&&(o.y=0),i.x>=e&&(s.x=e-1),i.y>=t&&(s.y=t-1);for(var c=0;c<t;c++){for(var l=[],d=0;d<e;d++)l.push(new u(d,c,r,d===o.x&&c===o.y,d===s.x&&c===s.y,1/0,!1,!1,null,null)),r++;a.push(l)}return a},N=function(t){for(var e=[],n=0;n<t.length;n++){for(var i=[],a=0;a<t[n].length;a++){var r=t[n][a];i.push(new u(r.col,r.row,r.id,r.isStart,r.isFinish,1/0,!1,r.isWall,null,r.ref))}e.push(i)}return e};var B=function(){var t=Object(i.useContext)(W);return Object(i.useEffect)((function(){window.canEdit=!1,window.tool="addWall",document.onmousedown=function(){window.isMouseDown=!0},document.onmouseup=function(){window.isMouseDown=!1,window.isDragging&&(window.isDragging=!1)};var e=t.gameState$.subscribe((function(e){e===t.GameStateEnum.idle?(window.canDrag=!0,window.canEdit=!0):(window.canDrag=!1,window.canEdit=!1)}));return function(){t.dispose(),e.unsubscribe()}})),a.a.createElement("div",{className:"App"},a.a.createElement(k,null),a.a.createElement("div",{className:"pixelart-to-css"}),a.a.createElement(A,{columns:50,rows:20}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},84:function(t,e,n){t.exports=n.p+"static/media/edit-6-64.5208802d.ico"},85:function(t,e,n){t.exports=n.p+"static/media/eraser-64.34c544ba.ico"},86:function(t,e,n){t.exports=n.p+"static/media/active_eraser.a346124c.ico"},87:function(t,e,n){t.exports=n.p+"static/media/reset.111f68e6.png"},88:function(t,e,n){t.exports=n.p+"static/media/active_edit.c35285a2.ico"},89:function(t,e,n){t.exports=n.p+"static/media/play-6-64.d2a1ab54.ico"},92:function(t,e,n){t.exports=n(234)},97:function(t,e,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.7f873b6e.chunk.js.map